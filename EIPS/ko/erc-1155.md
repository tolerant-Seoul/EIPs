---
eip: 1155
title: 멀티 토큰 표준
author: Witek Radomski, Andrew Cooke, Philippe Castonguay, James Therien, Eric Binet, Ronan Sandford
status: Final
type: Standards Track
category: ERC
created: 2018-06-17
requires: 165
lang: ko
original: https://github.com/ethereum/ERCs/blob/master/ERCS/erc-1155.md
---

## 요약

ERC-1155는 단일 배포된 컨트랙트 내에서 여러 토큰 유형을 관리할 수 있는 스마트 컨트랙트 인터페이스입니다. "대체 가능 토큰, 대체 불가능 토큰 또는 기타 구성의 모든 조합"을 허용합니다.

## 동기

토큰 유형별로 별도의 컨트랙트가 필요한 ERC-20 및 ERC-721과 달리, ERC-1155는 "각 토큰 ID가 자체 메타데이터, 공급량 및 기타 속성을 가질 수 있는 새로운 구성 가능한 토큰 유형을 나타낼 수" 있습니다.

### 주요 이점

- **배치 전송**: 한 번의 트랜잭션에서 여러 토큰 유형 전송으로 가스 비용 절감
- **유연성**: 대체 가능/불가능 토큰을 동일한 컨트랙트에서 관리
- **효율성**: 반복적인 승인 워크플로우 제거

## 명세

### 핵심 인터페이스

```solidity
interface ERC1155 /* is ERC165 */ {
    // 이벤트
    event TransferSingle(
        address indexed _operator,
        address indexed _from,
        address indexed _to,
        uint256 _id,
        uint256 _value
    );

    event TransferBatch(
        address indexed _operator,
        address indexed _from,
        address indexed _to,
        uint256[] _ids,
        uint256[] _values
    );

    event ApprovalForAll(
        address indexed _owner,
        address indexed _operator,
        bool _approved
    );

    event URI(string _value, uint256 indexed _id);

    // 전송 함수
    function safeTransferFrom(
        address _from,
        address _to,
        uint256 _id,
        uint256 _value,
        bytes calldata _data
    ) external;

    function safeBatchTransferFrom(
        address _from,
        address _to,
        uint256[] calldata _ids,
        uint256[] calldata _values,
        bytes calldata _data
    ) external;

    // 잔액 조회
    function balanceOf(address _owner, uint256 _id) external view returns (uint256);

    function balanceOfBatch(
        address[] calldata _owners,
        uint256[] calldata _ids
    ) external view returns (uint256[] memory);

    // 승인 관리
    function setApprovalForAll(address _operator, bool _approved) external;
    function isApprovedForAll(address _owner, address _operator) external view returns (bool);
}
```

### 이벤트

#### `TransferSingle` 및 `TransferBatch`
민팅(`0x0`에서)과 소각(`0x0`으로)을 포함한 모든 잔액 변경에 대해 발생합니다.

#### `ApprovalForAll`
운영자 권한 변경을 신호합니다.

#### `URI`
토큰 ID에 대한 메타데이터 업데이트를 나타냅니다.

### 수신자 훅 함수

ERC-1155 토큰을 수신하는 컨트랙트는 다음을 구현해야 합니다:

```solidity
interface ERC1155TokenReceiver {
    function onERC1155Received(
        address _operator,
        address _from,
        uint256 _id,
        uint256 _value,
        bytes calldata _data
    ) external returns(bytes4);

    function onERC1155BatchReceived(
        address _operator,
        address _from,
        uint256[] calldata _ids,
        uint256[] calldata _values,
        bytes calldata _data
    ) external returns(bytes4);
}
```

수락을 확인하려면 각각 특정 매직 값(`0xf23a6e61` 및 `0xbc197c81`)을 반환해야 합니다.

### 메타데이터 표준

토큰 메타데이터는 선택적 로컬라이제이션 지원과 함께 JSON 스키마를 따릅니다. URI는 `{id}` 플레이스홀더를 통한 동적 ID 대체를 지원하며, 64자 패딩이 있는 소문자 16진수로 형식화됩니다.

```
https://token-cdn-domain/{id}.json
```

예: 토큰 ID 314592 → `https://token-cdn-domain/000000000000000000000000000000000000000000000000000000000004ccee.json`

## 안전 요구사항

표준은 "안전 전송 규칙"을 의무화합니다:

1. 훅 호출 전에 잔액 업데이트
2. 외부 호출 전에 이벤트 발생
3. 코드 크기 검증을 통한 컨트랙트 감지
4. 훅 거부 또는 유효하지 않은 반환 시 적절한 되돌리기

## 설계 장점

이 구조는 다음을 가능하게 합니다:

- "한 번에 여러 토큰 유형 전송으로 트랜잭션 비용 절감"
- 단일 표준 구현과 비교하여 반복적인 승인 워크플로우 제거
- 게임 아이템, 티켓, 멤버십 등 다양한 자산 유형의 효율적인 관리

## 사용 사례

- **게임 아이템**: 대체 가능한 통화와 대체 불가능한 장비를 하나의 컨트랙트에서 관리
- **멀티 토큰 이코노미**: 다양한 토큰 유형을 가진 DeFi 프로토콜
- **이벤트 티켓**: 좌석 등급별로 다른 토큰 유형
- **디지털 수집품**: 에디션 번호가 있는 NFT 시리즈

## 저작권

저작권 및 관련 권리는 CC0를 통해 포기되었습니다.
