---
eip: 721
title: 대체 불가능 토큰 표준
author: William Entriken, Dieter Shirley, Jacob Evans, Nastassia Sachs
status: Final
type: Standards Track
category: ERC
created: 2018-01-24
requires: 165
lang: ko
original: https://github.com/ethereum/ERCs/blob/master/ERCS/erc-721.md
---

## 요약

ERC-721은 이더리움 스마트 컨트랙트 내에서 NFT(대체 불가능 토큰)를 구현하기 위한 통일된 인터페이스를 제공합니다. 이 표준은 부동산부터 가상 수집품까지 다양한 고유 디지털 또는 물리적 자산을 추적하고 전송하는 기본 기능을 수립합니다.

## 동기

모든 단위가 동일한 ERC-20의 대체 가능 토큰과 달리, NFT는 본질적으로 고유합니다. "각 자산은 고유(대체 불가능)하지만 토큰 수량의 각 단위는 동일(대체 가능)합니다." 표준화된 인터페이스를 통해 지갑, 브로커, 경매 플랫폼이 모든 NFT 생태계와 균일하게 상호작용할 수 있습니다.

## 명세

### 핵심 인터페이스

ERC-721을 준수하는 모든 컨트랙트는 `ERC721` 및 `ERC165` 인터페이스를 **반드시** 구현해야 합니다.

```solidity
interface ERC721 /* is ERC165 */ {
    // 이벤트
    event Transfer(address indexed _from, address indexed _to, uint256 indexed _tokenId);
    event Approval(address indexed _owner, address indexed _approved, uint256 indexed _tokenId);
    event ApprovalForAll(address indexed _owner, address indexed _operator, bool _approved);

    // 필수 메서드
    function balanceOf(address _owner) external view returns (uint256);
    function ownerOf(uint256 _tokenId) external view returns (address);
    function safeTransferFrom(address _from, address _to, uint256 _tokenId, bytes data) external payable;
    function safeTransferFrom(address _from, address _to, uint256 _tokenId) external payable;
    function transferFrom(address _from, address _to, uint256 _tokenId) external payable;
    function approve(address _approved, uint256 _tokenId) external payable;
    function setApprovalForAll(address _operator, bool _approved) external;
    function getApproved(uint256 _tokenId) external view returns (address);
    function isApprovedForAll(address _owner, address _operator) external view returns (bool);
}
```

### 이벤트

#### `Transfer`
NFT 소유권이 변경될 때 발생합니다 (생성 및 소멸 포함).

#### `Approval`
NFT에 대한 승인된 주소가 변경되거나 재확인될 때 발생합니다.

#### `ApprovalForAll`
운영자 상태가 수정될 때 발생합니다.

### 핵심 메서드

#### `balanceOf(address _owner)`
주소가 소유한 NFT 수를 반환합니다.

#### `ownerOf(uint256 _tokenId)`
NFT 소유자를 식별합니다.

#### `safeTransferFrom()`
수신자 컨트랙트 검증과 함께 안전한 전송을 수행합니다. 수신자가 컨트랙트인 경우 `onERC721Received()` 콜백을 통해 검증합니다.

#### `transferFrom()`
직접 전송 메커니즘입니다. 수신자가 NFT를 수신할 수 없는 경우 영구적인 자산 손실이 발생할 수 있으므로 주의가 필요합니다.

#### `approve(address _approved, uint256 _tokenId)`
단일 NFT 컨트롤러를 지정합니다.

#### `setApprovalForAll(address _operator, bool _approved)`
운영자 관리를 승인합니다.

#### `getApproved(uint256 _tokenId)`
승인 상태를 검색합니다.

#### `isApprovedForAll(address _owner, address _operator)`
운영자 승인을 확인합니다.

### 수신자 인터페이스

```solidity
interface ERC721TokenReceiver {
    function onERC721Received(address _operator, address _from, uint256 _tokenId, bytes _data) external returns(bytes4);
}
```

`safeTransferFrom`으로 전송받는 컨트랙트는 이 인터페이스를 구현해야 하며, `0x150b7a02` (매직 값)를 반환해야 합니다.

### 선택적 확장

#### 메타데이터 확장

```solidity
interface ERC721Metadata /* is ERC721 */ {
    function name() external view returns (string _name);
    function symbol() external view returns (string _symbol);
    function tokenURI(uint256 _tokenId) external view returns (string);
}
```

`tokenURI`는 자산별 메타데이터 포인터를 제공합니다. 메타데이터는 name, description, image URI 속성을 포함하는 JSON 스키마 형식을 따르는 것이 좋습니다.

#### 열거 확장

```solidity
interface ERC721Enumerable /* is ERC721 */ {
    function totalSupply() external view returns (uint256);
    function tokenByIndex(uint256 _index) external view returns (uint256);
    function tokenOfOwnerByIndex(address _owner, uint256 _index) external view returns (uint256);
}
```

- `totalSupply()`: 활성 NFT 수
- `tokenByIndex()`: 위치별로 토큰에 접근
- `tokenOfOwnerByIndex()`: 소유자의 보유 목록 탐색

## 전송 메커니즘

전송 승인의 세 가지 방식:

1. NFT 소유자의 직접 전송
2. 승인된 주소의 작업
3. 승인된 운영자의 관리

이 설계는 "지갑, 브로커 및 경매 애플리케이션이 대량의 NFT를 빠르게 사용할 수 있는 강력한 도구 세트"를 제공합니다.

## 설계 근거

### 식별자 전략

각 NFT는 고유한 `uint256` 식별자를 받습니다. 명세는 "호출자가 ID 번호에 특정 패턴이 있다고 가정해서는 **안 됩니다**"라고 명시하며, 식별자를 불투명한 값으로 취급합니다.

### 수신자 검증

`safeTransferFrom()`은 `onERC721Received()` 콜백을 통해 수신자 컨트랙트를 검증하여 호환되지 않는 주소로의 영구적인 자산 손실을 방지합니다.

### 허용량 모델 없음

ERC-20의 허용량 메커니즘과 달리, ERC-721은 이 패턴을 제거합니다. "모든 NFT가 고유하므로 수량은 없거나 하나입니다."

## 보안 고려사항

실패한 트랜잭션은 확립된 모범 사례에 따라 균일하게 예외를 발생시킵니다. 명세는 구현이 다음과 같은 제한을 추가할 수 있음을 인정합니다:

- 전송 일시 중지 메커니즘
- 주소 차단 목록
- 수수료 징수
- 읽기 전용 레지스트리

## 확장성

표준은 성능 문제를 명시적으로 다룹니다. 참조 구현은 "확장성이 문제가 **아님**"을 보여주며, 배포된 테스트넷 컨트랙트가 현재 ENS 가스 비용 미만을 유지하면서 2^128개의 고유 자산을 관리합니다.

## 역호환성

표준은 적용 가능한 경우 ERC-20 의미론적 규칙(`balanceOf`, `totalSupply`, `name`, `symbol`)을 채택합니다. CryptoKitties와 같은 초기 프로젝트는 공식 표준화 이전에도 부분적인 호환성을 달성했습니다.

## 저작권

저작권 및 관련 권리는 CC0를 통해 포기되었습니다.
